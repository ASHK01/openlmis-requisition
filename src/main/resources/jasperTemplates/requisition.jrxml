<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.3.1.final using JasperReports Library version 6.3.1  -->
<!-- 2017-01-13T19:02:23 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="requisition" pageWidth="842" pageHeight="595" orientation="Landscape" whenNoDataType="BlankPage" columnWidth="842" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" isFloatColumnFooter="true" whenResourceMissingType="Empty" uuid="a0a4e861-0726-422f-b3d5-54b1aefe96ce">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="9"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="0"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="1000"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<import value="java.lang.*"/>
	<import value="java.util.*"/>
	<import value="org.openlmis.requisition.dto.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<import value="java.util.stream.*"/>
	<parameter name="template" class="org.openlmis.requisition.domain.RequisitionTemplate" isForPrompting="false">
		<property name="displayName" value="template"/>
	</parameter>
	<parameter name="subreport_dir" class="java.lang.String" isForPrompting="false">
		<property name="displayName" value="subreport directory"/>
	</parameter>
	<queryString language="SQL">
		<![CDATA[]]>
	</queryString>
	<field name="nonFullSupply" class="java.util.List">
		<fieldDescription><![CDATA[nonFullSupply]]></fieldDescription>
	</field>
	<field name="requisition" class="org.openlmis.requisition.dto.RequisitionDto">
		<fieldDescription><![CDATA[requisition]]></fieldDescription>
	</field>
	<field name="fullSupply" class="java.util.List">
		<fieldDescription><![CDATA[fullSupply]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="60">
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy">
				<reportElement positionType="Float" x="770" y="10" width="60" height="40" uuid="2dd094dc-e4b5-43c0-89ab-02f2dda79bb5">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="SansSerif" size="8"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="10" y="10" width="750" height="40" uuid="8b895ad8-e565-41e4-87f4-fe70fea7b9f1"/>
				<textElement verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[msg($R{requisition.print.requisition.label.requisition.for}, $F{requisition}.getProcessingPeriod().getName(), $F{requisition}.getProgram().getName(), $F{requisition}.getFacility().getName())]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="70">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<textField isStretchWithOverflow="true">
				<reportElement x="60" y="20" width="80" height="10" uuid="d5d4c698-019d-4e1f-850c-1f5b4f0117d5"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{requisition.print.requisition.header.requisition.status}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="140" y="20" width="13" height="10" uuid="309bd79c-b6e2-4fe3-92a9-7174b503adc6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true">
				<reportElement x="153" y="20" width="100" height="10" uuid="45fd337a-ded7-47ff-9c00-f823ed1a6527"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{requisition}.getStatus().toString()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="60" y="40" width="80" height="10" uuid="ed9f119a-3ac0-42ed-a1ea-4c818a59d068"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{requisition.print.requisition.header.requisition.period}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="140" y="40" width="13" height="10" uuid="5b9b416d-b265-4e46-9203-f9666e4a1095"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true">
				<reportElement x="153" y="40" width="44" height="10" uuid="bdb041cd-c91d-4f42-a458-a5cdfa919ffc"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{requisition}.getProcessingPeriod().getStartDate().toString()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="197" y="40" width="13" height="10" uuid="1af51a53-79b0-4e65-9ec8-ac35c93899a3"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[-]]></text>
			</staticText>
			<textField isStretchWithOverflow="true">
				<reportElement x="210" y="40" width="43" height="10" uuid="6b3254c3-918c-4257-a50c-3f167a58b7c8"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{requisition}.getProcessingPeriod().getEndDate().toString()]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="320" y="20" width="80" height="10" uuid="1cb00373-3ab4-4d95-97bf-dbe3c0c97946"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{requisition.print.requisition.header.facility}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="320" y="40" width="80" height="10" uuid="4bf2ac20-42f5-445b-9107-156a21216819"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{requisition.print.requisition.header.requisition.date}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="580" y="20" width="80" height="10" uuid="4bd32618-b4af-48ee-9002-5b443d1bbd33"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{requisition.print.requisition.header.requisition.type}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="400" y="20" width="13" height="10" uuid="b08e4484-2d1c-4ffe-9dda-30ad3e07a18b"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="400" y="40" width="13" height="10" uuid="78256393-b7ef-4e22-a165-92dc303dc7ec"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="660" y="20" width="13" height="10" uuid="103ae1f5-ffc0-48ca-84e7-b45217c42f59"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true">
				<reportElement x="413" y="20" width="107" height="10" uuid="8510a08b-6a6f-4d22-9e46-a4086f22cdb7"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{requisition}.getFacility().getName()]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="413" y="40" width="107" height="10" uuid="863fe07d-a007-421d-8404-fe3d8884413c"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{requisition}.getCreatedDate().toLocalDate().toString()]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="673" y="20" width="107" height="10" uuid="4fc8489d-e1a9-4eaf-b71e-fdf876182846"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{requisition}.getEmergency() ? "Emregency" : "Regular"]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement mode="Transparent" x="40" y="9" width="760" height="50" uuid="65fe1d4d-8334-48d2-b383-ee533c8d5742"/>
			</rectangle>
		</band>
	</pageHeader>
	<detail>
		<band height="109">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<subreport>
				<reportElement x="10" y="10" width="820" height="38" uuid="4475ef7c-a24a-4301-812c-f41869743f79"/>
				<subreportParameter name="template">
					<subreportParameterExpression><![CDATA[$P{template}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="title">
					<subreportParameterExpression><![CDATA[$R{requisition.print.requisition.label.full-supply-items}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new JRBeanCollectionDataSource($F{fullSupply})]]></dataSourceExpression>
				<subreportExpression><![CDATA[JasperCompileManager.compileReport(getClass().getResourceAsStream($P{subreport_dir} + "requisitionLines.jrxml"))]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement key="" positionType="Float" x="10" y="60" width="820" height="38" uuid="c5a8dc95-8635-4a3c-9fca-38e46ac77ab8">
					<printWhenExpression><![CDATA[!$F{nonFullSupply}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="template">
					<subreportParameterExpression><![CDATA[$P{template}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="title">
					<subreportParameterExpression><![CDATA[$R{requisition.print.requisition.label.non-full-supply-items}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new JRBeanCollectionDataSource($F{nonFullSupply})]]></dataSourceExpression>
				<subreportExpression><![CDATA[JasperCompileManager.compileReport(getClass().getResourceAsStream($P{subreport_dir} + "requisitionLines.jrxml"))]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<pageFooter>
		<band height="30">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<textField>
				<reportElement x="710" y="10" width="80" height="10" uuid="7510e277-8abf-4ec0-b306-b88cfd265a15"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[msg($R{requisition.print.requisition.label.page.of}, $V{PAGE_NUMBER})]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="800" y="10" width="30" height="10" uuid="5ded44a2-6687-46fd-b29e-205ba278ca50"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
