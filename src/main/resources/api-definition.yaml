#%RAML 0.8
---
title: OpenLMIS Requisition API
version: "@version@"
baseUri: "@baseUrl@"

documentation:
    - title: Getting Started
      content: Welcome to the OpenLMIS requisition-service documentation.

schemas:
  - comment: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Comment",
          "description": "A single comment",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "requisition": { "type": "object", "$ref": "#/schemas/requisition", "required": false, "title": "requisition" },
              "authorId": { "type": "string", "required": false, "title": "authorId" },
              "body": { "type": "string", "required": true, "title": "body" },
              "createdDate": { "type": "string", "required": false, "title": "createdDate" }
          }
      }

  - commentDto: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Comment",
          "description": "A single commentDto",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "authorId": { "type": "string", "required": false, "title": "authorId" },
              "body": { "type": "string", "required": true, "title": "body" },
              "createdDate": { "type": "string", "required": false, "title": "createdDate" }
          }
      }

  - facilityDto: !include schemas/facilityDto.json

  - facilityOperatorDto: !include schemas/facilityOperatorDto.json

  - facilityTypeDto: !include schemas/facilityTypeDto.json

  - geographicLevelDto: !include schemas/geographicLevelDto.json

  - geographicZoneDto: !include schemas/geographicZoneDto.json

  - orderableProductDto: |
      {    "type": "object",
           "$schema": "http://json-schema.org/draft-03/schema",
           "title": "OrderableProductDto",
           "description": "A single orderableProductDto",
           "properties": {
               "id": { "type": "string", "required": true, "title": "id" },
               "productCode": { "type": "string", "required": true, "title": "code" },
               "name": { "type": "string", "required": true, "title": "name" },
               "products": {"type": "array", "required": false, "title": "products", "items": {"type": "object", "$ref": "schemas/productDto.json"}, "uniqueItems": false}
           }
      }

  - processingPeriodDto: !include schemas/processingPeriodDto.json

  - processingScheduleDto: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ProcessingScheduleDto",
          "description": "A single processingScheduleDto",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "description": { "type": "string", "required": true, "title": "description" },
              "modifiedDate": { "type": "string", "required": true, "title": "modifiedDate" },
              "name": { "type": "string", "required": true, "title": "name" }
          }
      }

  - programDto: !include schemas/programDto.json

  - productDto: !include schemas/productDto.json

  - requisition: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Requisition",
          "description": "A single requisition",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "createdDate": { "type": "string", "required": false, "title": "createdDate" },
              "facilityId": { "type": "string", "required": true, "title": "facilityId" },
              "programId": { "type": "string", "required": true, "title": "programId" },
              "processingPeriodId": { "type": "string", "required": true, "title": "processingPeriodId" },
              "supplyingFacilityId" : {"type": "string", "required": false, "title": "supplyingFacilityId"},
              "status": { "type": "string", "required": true, "title": "status" },
              "emergency": { "type": "boolean", "required": false, "title": "emergency" },
              "supervisoryNodeId": { "type": "string", "required": true, "title": "supervisoryNodeId" },
              "requisitionLineItems": { "type": "array", "required": false, "title":"requisitionLineItems", "items": { "type": "object", "$ref":"#/schemas/requisitionLineItem" }, "uniqueItems": false },
              "commens": {"type": "array", "required": false, "title": "comments", "items": {"type": "object", "$ref": "#/schemas/comment" }, "uniqueItems": false }
          }
      }

  - requisitionDto: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-04/schema",
          "title": "RequisitionDto",
          "description": "A single requisitionDto",
          "properties": {
              "id": { "type": "string", "title": "id" },
              "createdDate": {"type": "array", "title": "createdDate", "items": {"type": "integer" }, "uniqueItems": false },
              "facility": { "type": "object", "$ref": "schemas/facilityDto.json", "title": "facility" },
              "program": { "type": "object", "$ref": "schemas/programDto.json", "title": "program" },
              "processingPeriod": { "type": "object", "$ref": "schemas/processingPeriodDto.json", "title": "processingPeriod" },
              "supplyingFacility" : {"type": ["string", "null"], "title": "supplyingFacility"},
              "status": { "type": "string", "title": "status" },
              "emergency": { "type": "boolean", "title": "emergency" },
              "supervisoryNode": { "type": "string", "title": "supervisoryNode" },
              "requisitionLineItems": { "type": "array", "title": "requisitionLineItems", "items": { "type": "object", "$ref":"#/schemas/requisitionLineItemDto" }, "uniqueItems": false },
              "comments": {"type": "array", "title": "comments", "items": {"type": "object", "$ref": "#/schemas/commentDto" }, "uniqueItems": false }
          },
          "required": ["id", "facility", "program", "processingPeriod", "status", "supervisoryNode"]
      }

  - requisitionDtoArray: |
      {
          "type": "array",
          "items": { "type": "object", "$ref": "#/schemas/requisitionDto" }
      }

  - requisitionLineItem: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionLineItem",
          "description": "A single requisitionLineItem",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "requisition": { "type": "object", "$ref": "#/schemas/requisition", "required": false, "title": "requisition" },
              "orderableProductId": { "type": "string", "required": true, "title": "orderableProductId" },
              "beginningBalance": { "type": "integer", "required": false, "title": "beginningBalance" },
              "totalReceivedQuantity": { "type": "integer", "required": false, "title": "totalReceivedQuantity" },
              "totalLossesAndAdjustments": { "type": "integer", "required": false, "title": "totalLossesAndAdjustments" },
              "stockOnHand": { "type": "integer", "required": false, "title": "stockOnHand" },
              "requestedQuantity": { "type": "integer", "required": false, "title": "requestedQuantity" },
              "totalConsumedQuantity": { "type": "integer", "required": false, "title": "totalConsumedQuantity" },
              "requestedQuantityExplanation": { "type": "string", "required": false, "title": "requestedQuantityExplanation" },
              "remarks": {"type": "string", "required": true, "title": "remarks" },
              "approvedQuantity": {"type": "integer", "required": true, "title": "approvedQuantity" },
              "total": {"type": "integer", "required": false, "title": "total" },
              "pricePerPack": {"type": "number", "required": false, "title": "pricePerPack" },
              "numberOfNewPatientsAdded": {"type": "number", "required": false, "title": "numberOfNewPatientsAdded" },
              "skipped": {"type": "boolean", "required": false, "title": "boolean" },
              "adjustedConsumption": {"type": "number", "required": false, "title": "adjustedConsumption" },
              "averageConsumption": {"type": "number", "required": false, "title": "averageConsumption" }
          }
      }

  - requisitionLineItemDto: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionLineItemDto",
          "description": "A single requisitionLineItemDto",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "orderableProduct": { "type": "object", "$ref": "#/schemas/orderableProductDto", "required": true, "title": "orderableProduct" },
              "beginningBalance": { "type": "integer", "required": false, "title": "beginningBalance" },
              "totalReceivedQuantity": { "type": "integer", "required": false, "title": "totalReceivedQuantity" },
              "totalLossesAndAdjustments": { "type": "integer", "required": false, "title": "totalLossesAndAdjustments" },
              "stockOnHand": { "type": "integer", "required": false, "title": "stockOnHand" },
              "requestedQuantity": { "type": "integer", "required": false, "title": "requestedQuantity" },
              "totalConsumedQuantity": { "type": "integer", "required": false, "title": "totalConsumedQuantity" },
              "requestedQuantityExplanation": { "type": "string", "required": false, "title": "requestedQuantityExplanation" },
              "remarks": {"type": "string", "required": true, "title": "remarks" },
              "approvedQuantity": {"type": "integer", "required": true, "title": "approvedQuantity" },
              "total": {"type": "integer", "required": false, "title": "total" },
              "pricePerPack": {"type": "number", "required": false, "title": "pricePerPack" },
              "numberOfNewPatientsAdded": {"type": "number", "required": false, "title": "numberOfNewPatientsAdded" },
              "skipped": {"type": "boolean", "required": false, "title": "boolean" },
              "adjustedConsumption": {"type": "number", "required": false, "title": "adjustedConsumption" },
              "averageConsumption": {"type": "number", "required": false, "title": "averageConsumption" }
          }
      }

  - requisitionTemplate: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionTemplate",
          "description": "A single requisitionTemplate",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "programId": { "type": "string", "required": true, "title": "programId" },
              "columnsMap": { "type": "array", "required": false, "title": "columnsMap", "items": { "type": "string", "title": "columnsMap" }, "uniqueItems": false }
          }
      }

  - requisitionTemplateColumn: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionTemplateColumn",
          "description": "A single requisitionTemplateColumn",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "name": { "type": "string", "required": false, "title": "name" },
              "label": { "type": "string", "required": false, "title": "label" },
              "indicator": { "type": "string", "required": false, "title": "indicator" },
              "displayOrder": { "type": "integer", "required": false, "title": "displayOrder" },
              "isDisplayed": { "type": "boolean", "required": false, "title": "isDisplayed" },
              "source": { "type": "string", "required": false, "title": "source" },
              "columnDefinition": { "type": "object", "$ref": "#/schemas/availableRequisitionColumn", "required": true, "title": "columnDefinition" },
              "option": { "type": "object", "$ref": "#/schemas/availableRequisitionColumnOption", "required": false, "title": "option" }
          }
      }

  - availableRequisitionColumn: !include schemas/availableRequisitionColumn.json

  - availableRequisitionColumnOption: !include schemas/availableRequisitionColumnOption.json

  - convertedRequisitionMap: |
      {
          "type": "array",
          "items": [
              { "type": "object", "$ref": "#/schemas/requisition" },
              { "type": "array", "items": { "type": "object", "$ref": "#/schemas/facility" } }
          ]
      }

  - programDto: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ProgramDto",
          "description": "A single programDto",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "name": { "type": "string", "required": false, "title": "name" },
              "description": { "type": "string", "required": false, "title": "description" },
              "active": { "type": "boolean", "required": false, "title": "active" },
              "periodsSkippable": { "type": "boolean", "required": false, "title": "periodsSkippable" },
              "showNonFullSupplyTab": { "type": "boolean", "required": false, "title": "showNonFullSupplyTab" }
          }
      }

  - configurationSetting: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ConfigurationSetting",
          "description": "A single configurationSetting",
          "properties": {
              "key": { "type": "string", "required": true, "title": "key" },
              "value": { "type": "string", "required": true, "title": "value" }
          }
      }

  - errorResponse: !include schemas/errorResponse.json

  - convertToOrderDto: !include schemas/convertToOrderDto.json

  - convertToOrderDtoArray: |
      {
          "type": "array",
          "items": { "type": "object", "$ref": "schemas/convertToOrderDto.json" }
      }

  - templateDto: !include schemas/templateDto.json

  - templateDtoArray: |
      {
          "type": "array",
          "items": { "type": "object", "$ref": "schemas/templateDto.json" }
      }

traits:
    - secured:
          queryParameters:
              access_token:
                  displayName: access_token
                  description: OAuth2 access token
                  type: string
                  required: true
                  repeat: false

resourceTypes:
    - collection:
        get:
            is: [ secured ]
            responses:
                200:
                  description: Collection retrieved successfully
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                      application/json:
                          schema: <<schema>>
                404:
                  description: Collection is empty.
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
        post:
            is: [ secured ]
            body:
                application/json:
                    schema: <<schema>>
            responses:
                201:
                  description: Item created successfully
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                      application/json:
                          schema: <<schema>>
    - member:
        get:
            is: [ secured ]
            responses:
                200:
                    body:
                        application/json:
                            schema: <<schema>>
        post:
            is: [ secured ]
            body:
                application/json:
                    schema: <<schema>>
            responses:
                200:
                    body:
                        application/json:
                            schema: <<schema>>
        delete:
            is: [ secured ]
            responses:
                200:

/api:
  /requisitions:
      displayName: Requisition
      /initiate:
          post:
              is: [ secured ]
              description: Initiate requisition.
              queryParameters:
                  program:
                      displayName: program
                      type: string
                      required: true
                      repeat: false
                  facility:
                      displayName: facility
                      type: string
                      required: true
                      repeat: false
                  suggestedPeriod:
                      displayName: suggestedPeriod
                      type: string
                      required: false
                      repeat: false
                  emergency:
                      displayName: emergency
                      type: boolean
                      required: true
                      repeat: false
              responses:
                  "201":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "400":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "403":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
      /submitted:
          get:
              is: [ secured ]
              description: Get all requisitions with submitted status.
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "404":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "403":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
      /{id}:
          uriParameters:
              id:
                  displayName: id
                  type: string
                  required: true
                  repeat: false
          delete:
              is: [ secured ]
              description: Delete chosen requisition.
              responses:
                  "204":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "400":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "404":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "409":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "403":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
          get:
              is: [ secured ]
              description: Get chosen requisition.
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "404":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "403":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
          put:
              is: [ secured ]
              description: Update existing requisition.
              body:
                  application/json:
                    schema: requisitionDto
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                          schema: requisitionDto
                  "400":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "403":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
      /{id}/skip:
          uriParameters:
              id:
                  displayName: id
                  type: string
                  required: true
                  repeat: false
          put:
              is: [ secured ]
              description: Skip chosen requisition period.
              responses:
                  "200":
                      body:
                        application/json:
                  "400":
                      body:
                        application/json:
                            schema: errorResponse
                  "403":
                      body:
                        application/json:
                            schema: errorResponse
                  "404":
                      body:
                        application/json:
                            schema: errorResponse
      /{id}/reject:
          uriParameters:
              id:
                  displayName: id
                  type: string
                  required: true
                  repeat: false
          put:
              is: [ secured ]
              description: Reject requisition which is waiting for approval.
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "400":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
      /{id}/submit:
          post:
              is: [ secured ]
              description: Submit earlier initiated requisition.
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "400":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "403":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
      /{id}/authorize:
          uriParameters:
              id:
                  displayName: requisition Id
                  type: string
                  required: true
                  repeat: false
          post:
              is: [ secured ]
              description: Authorize submitted requisition.
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "400":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
                        text/plain:
                  "404":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "403":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
      /{id}/print:
          uriParameters:
              id:
                  displayName: requisitionId
                  type: string
                  required: true
                  repeat: false
          get:
              is: [ secured ]
              description: Print requisition to a pdf file.
              responses:
                  200:
                      body:
                        application/pdf:
      /search:
          get:
              is: [ secured ]
              description: Find requisitions matching all of provided parameters.
              queryParameters:
                  facility:
                      displayName: facility
                      type: string
                      required: false
                      repeat: false
                  program:
                      displayName: program
                      type: string
                      required: false
                      repeat: false
                  createdDateFrom:
                      displayName: createdDateFrom
                      type: string
                      required: false
                      repeat: false
                  createdDateTo:
                      displayName: createdDateTo
                      type: string
                      required: false
                      repeat: false
                  processingPeriod:
                      displayName: processingPeriod
                      type: string
                      required: false
                      repeat: false
                  supervisoryNode:
                      displayName: supervisoryNode
                      type: string
                      required: false
                      repeat: false
                  requisitionStatus:
                      displayName: supervisoryNode
                      type: string
                      required: false
                      repeat: false
                  emergency:
                      displayName: emergency
                      type: boolean
                      required: false
                      repeat: false
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "400":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "500":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
      /{id}/approve:
          uriParameters:
              id:
                  displayName: id
                  type: string
                  required: true
                  repeat: false
          post:
              is: [ secured ]
              description: Approve specified by id requisition.
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "400":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
                  "403":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
      /requisitionsForApproval:
          get:
              is: [ secured ]
              description: Get requisitions to approve for right supervisor.
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: requisitionDtoArray
                  "500":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
      /requisitionsForConvert:
          get:
              is: [ secured ]
              description: Get requisitions to approve for right supervisor.
              queryParameters:
                  filterValue:
                      displayName: filterValue
                      description: This parameter contains filter value.
                      type: string
                      required: false
                      repeat: false
                  filterBy:
                      displayName: filterBy
                      description: This parameter contains field which we are going to filter by.
                        There is four possibilities - facilityCode, facilityName, programName
                        and all
                      type: string
                      required: false
                      repeat: false
                  sortBy:
                      displayName: sortBy
                      description: This parameter contains field which we are going to sort by.
                        There is three possibilities -  facilityCode, facilityName and programName
                      type: string
                      required: false
                      repeat: false
                  descending:
                      displayName: descending
                      description: This parameter contains sorting order. Default it is descending,
                        but if user want to have ascending order there should be false.
                      type: boolean
                      required: false
                      repeat: false
                  pageNumber:
                      displayName: pageNumber
                      description: This parameter defines what page number should be returned. For
                        example if you want to display second page you should set here 2.
                      type: integer
                      required: false
                      repeat: false
                  pageSize:
                      displayName: pageSize
                      description: This parameter defines size of page. If you want to have, for
                        example, ten records per one page you should set here 10.
                      type: integer
                      required: false
                      repeat: false
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "500":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
      /convertToOrder:
          post:
              is: [ secured ]
              description: Convert Requisition list to orders.
              body:
                application/json:
                  schema: convertToOrderDtoArray
              responses:
                  "201":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "403":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                          schema: errorResponse
                  "500":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:

      /{id}/comments:
          uriParameters:
              id:
                  displayName: id
                  description: requisition id
                  type: string
                  required: true
                  repeat: false
          get:
              is: [ secured ]
              description: Get all comments for specified requisition.
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "500":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
          post:
              is: [ secured ]
              description: Add comment to the requisition.
              body:
                  application/json:
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "500":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
      /comments/{id}:
          uriParameters:
              id:
                  displayName: id
                  description: comment id
                  type: string
                  required: true
                  repeat: false
          delete:
              is: [ secured ]
              description: Delete comment from requisition.
              responses:
                  "204":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "404":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "409":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
          get:
              is: [ secured ]
              description: Get chosen comment from requisition.
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "404":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
          put:
              is: [ secured ]
              description: Update comment.
              body:
                  application/json:
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "400":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:

      /periodsForInitiate:
          get:
              is: [ secured ]
              description: Find periods for initiate requisition.
              queryParameters:
                  programId:
                      displayName: program
                      type: string
                      required: true
                      repeat: false
                  facilityId:
                      displayName: facility
                      type: string
                      required: true
                      repeat: false
                  emergency:
                      displayName: emergency
                      type: boolean
                      required: true
                      repeat: false
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                          schema: processingPeriodDto
                  "400":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse

  /reports/templates/requisitions:
      displayName: Report Template
      post:
          is: [ secured ]
          description: Add report template to database.
          body:
              multipart/form-data:
                formParameters:
                    file:
                         displayName: Template with .jrxml format
                         type: file
                         required: false
                         repeat: false
                    name:
                         displayName: Name of Template in database
                         type: string
                         required: false
                         repeat: false
                    description:
                         displayName: Description of Template
                         type: string
                         required: false
                         repeat: false
          responses:
                200:
      get:
          is: [ secured ]
          description: Get all templates.
          responses:
              200:
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                    application/json:
                      schema: templateDtoArray
              404:
      /{id}:
          uriParameters:
              id:
                  displayName: id
                  type: string
                  required: true
                  repeat: false
          delete:
              is: [ secured ]
              description: Delete chosen template.
              responses:
                  204:
                  404:
          get:
              is: [ secured ]
              description: Get chosen template.
              responses:
                  200:
                      body:
                        application/json:
                          schema: templateDto
                  404:
          put:
              is: [ secured ]
              description: Update existing template.
              body:
                  application/json:
                    schema: templateDto
              responses:
                  200:
                      body:
                        application/json:
                          schema: templateDto

  /requisitionTemplates:
      displayName: Requisition Template
      get:
          is: [ secured ]
          description: Get all requisitionTemplates.
          responses:
              "200":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                    application/json:
              "404":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
      post:
          is: [ secured ]
          description: Creates new requisitionTemplate.
          body:
              application/json:
          responses:
              "201":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                    application/json:
              "400":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                    application/json:
              "403":
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                    application/json:
                        schema: errorResponse
      /{id}:
          uriParameters:
              id:
                  displayName: id
                  type: string
                  required: true
                  repeat: false
          delete:
              is: [ secured ]
              description: Delete chosen requisitionTemplate.
              responses:
                  "204":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "403":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
                  "404":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "409":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
          get:
              is: [ secured ]
              description: Get chosen requisitionTemplate.
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "404":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
          put:
              is: [ secured ]
              description: Update existing requisitionTemplate.
              body:
                  application/json:
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "400":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "403":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                            schema: errorResponse
      /search:
          get:
              is: [ secured ]
              description: Find requisition templates with matched parameters.
              queryParameters:
                  program:
                      displayName: program
                      description: program ID
                      type: string
                      required: false
                      repeat: false
              responses:
                  "200":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                      body:
                        application/json:
                  "404":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
                  "500":
                      headers:
                        X-Content-Type-Options:
                        X-XSS-Protection:
  /settings:
      displayName: Settings.
      /{key}:
            uriParameters:
              key:
                  displayName: key
                  type: string
                  required: true
                  repeat: false
            get:
               is: [ secured ]
               description: Get chosen setting.
               responses:
                   "200":
                       headers:
                         X-Content-Type-Options:
                         X-XSS-Protection:
                       body:
                           application/json:
                   "404":
                       headers:
                         X-Content-Type-Options:
                         X-XSS-Protection:
