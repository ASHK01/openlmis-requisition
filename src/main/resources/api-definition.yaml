#%RAML 0.8
title: OpenLMIS Requisition API
version: "1.0.0"
baseUri: "http://localhost:8080/api"
schemas:
    -
        Product: '{"type":"object","$schema":"http://json-schema.org/draft-03/schema#","title":"Product","properties":{"code":{"type":"string","required":true,"title":"code"},"primaryName":{"type":"string","required":true,"title":"primaryName"},"dispensingUnit":{"type":"string","required":true,"title":"dispensingUnit"},"dosesPerDispensingUnit":{"type":"integer","required":true,"title":"dosesPerDispensingUnit"},"packSize":{"type":"integer","required":true,"title":"packSize"},"packRoundingThreshold":{"type":"integer","required":true,"title":"packRoundingThreshold"},"roundToZero":{"type":"boolean","required":true,"title":"roundToZero"},"active":{"type":"boolean","required":true,"title":"active"},"fullSupply":{"type":"boolean","required":true,"title":"fullSupply"},"tracer":{"type":"boolean","required":true,"title":"tracer"}}}'

    -
        geographicLevel: '{"type":"object","$schema":"http://json-schema.org/draft-03/schema#","description":"A single GeographicLevel representation","title":"geographicLevel","properties":{"code":{"type":"string","required":true,"title":"code"},"name":{"type":"string","required":true,"title":"name"},"levelNumber":{"type":"string","required":true,"title":"levelNumber"}}}'
    -
        geographicZone: '{"type":"object","$schema":"http://json-schema.org/draft-03/schema#","description":"A single GeographicZone representation","title":"geographicZone","properties":{"code":{"type":"string","required":true,"title":"code"},"name":{"type":"string","required":true,"title":"name"},"level":{"type":"object","$ref":"#/schemas/geographicLevel","required":true,"title":"level"},"catchmentPopulation":{"type":"integer","required":false,"title":"catchmentPopulation"},"latitude":{"type":"number","required":false,"title":"latitude"},"longitude":{"type":"number","required":false,"title":"longitude"}}}'
/api/products:
    displayName: ApiProducts
    get:
        description: Get a list of all products in the system.
        responses:
            "200":
                description: The request has succeeded
                body:
                    application/json:
                        schema: Product
                        example: '[{"code":"sample code","primaryName":"sample primaryName","dispensingUnit":"sample dispensingUnit","dosesPerDispensingUnit":1}]'
    post:
        description: Create a product.
        body:
            application/json:
                schema: Product
                example: '{"code":"sample code","primaryName":"sample primaryName","dispensingUnit":"sample dispensingUnit","dosesPerDispensingUnit":1,"packSize":1,"packRoundingThreshold":1,"roundToZero":false,"active":false,"fullSupply":false,"tracer":false}'
        responses:
            "201":
                description: The request has been fulfilled and resulted in a new resource being created
                body:
                    application/json:
                        schema: Product
                        example: '[{"code":"sample code","primaryName":"sample primaryName","dispensingUnit":"sample dispensingUnit","dosesPerDispensingUnit":1}]'
/geographicZones:
    displayName: GeographicZones
    get:
        description: Get a list of all of the geographicZones entities in the system.
        displayName: GET geographicZones
        responses:
            "200":
                description: Returns all geographicZones
                body:
                    application/json:
                        schema: geographicZone
                        example: '[{"code":"sample code","name":"sample name","level":null,"catchmentPopulation":1,"latitude":1.1,"longitude":1.1}]'
            "404":
                description: No geographicZones found.
    post:
        description: Creates new GeographicZone entity.
        displayName: CREATE geographicZone entity
        body:
            application/json:
                schema: geographicZone
                example: '{"code":"sample code","name":"sample name","level":null,"catchmentPopulation":1,"latitude":1.1,"longitude":1.1}'
/geographicLevels:
    displayName: GeographicLevels
    get:
        description: Get a list of all of the geographicLevel entities in the system.
        displayName: GET geographicLevels
    post:
        displayName: CREATE geographicLevel entity
        responses:
            "200":
                description: Geographic level created